!function(){const e=document.querySelector("#speakers");if(e){let n=[],s=[];const c=document.querySelector("#speakers-list"),r=document.querySelector('[name="speaker_id"]');function t(e){const t=e.target.value;if(t.length>=3){const e=new RegExp(t,"i");s=n.filter(t=>{if(-1!=t.name.toLowerCase().search(e))return t})}else s=[];!function(){for(;c.firstChild;)c.removeChild(c.firstChild);if(s.length>0)s.forEach(e=>{const t=document.createElement("LI");t.classList.add("speakers-list__speaker"),t.textContent=e.name,t.dataset.speakerId=e.id,t.onclick=a,c.appendChild(t)});else{const e=document.createElement("P");e.classList.add("speakers-list__no-result"),e.textContent="No results for your search",c.appendChild(e)}}()}function a(e){const t=e.target,a=document.querySelector(".speakers-list__speaker--selected");a&&a.classList.remove("speakers-list__speaker--selected"),t.classList.add("speakers-list__speaker--selected"),r.value=t.dataset.speakerId}!async function(){const a=await fetch("/api/speakers");(function(e=[]){n=e.map(e=>({name:`${e.name.trim()} ${e.lastname.trim()}`,id:e.id}))})(await a.json()),e.addEventListener("input",t)}()}}(),function(){const e=document.querySelector("#tags_input");if(e){const s=document.querySelector("#tags"),c=document.querySelector('[name="tags"]');let r=[];function t(){s.textContent="",r.forEach(e=>{const t=document.createElement("LI");t.classList.add("form__tag"),t.textContent=e,t.ondblclick=a,s.appendChild(t)}),n()}function a(e){e.target.remove(),r=r.filter(t=>t!==e.target.textContent),console.log(r),n()}function n(){c.value=r.toString()}""!==c.value&&(r=c.value.split(","),t()),e.addEventListener("keypress",(function(a){if(44===a.keyCode){if(""===a.target.value.trim()||a.target.value<1)return;a.preventDefault(),r=[...r,a.target.value.trim()],e.value="",t()}}))}}(),function(){if(document.querySelector("#time")){const a=document.querySelector("[name=category_id]"),n=document.querySelectorAll("[name=day]"),s=document.querySelector("[name=day_id]"),c=document.querySelector("[name=time_id]");a.addEventListener("change",e),n.forEach(t=>t.addEventListener("change",e));let r={category_id:"",day:""};function e(e){r[e.target.name]=e.target.value,c.value="",s.value="";const a=document.querySelector(".time__hour--selected");a&&a.classList.remove("time__hour--selected"),Object.values(r).includes("")||async function(){const{day:e,category_id:a}=r,n=`/api/events-time?day_id=${e}&category_id=${a}`,s=await fetch(n);!function(e){const a=document.querySelectorAll("#time li");a.forEach(e=>e.classList.add("time__hour--disable"));const n=e.map(e=>e.time_id),s=Array.from(a);s.filter(e=>!n.includes(e.dataset.timeId)).forEach(e=>e.classList.remove("time__hour--disable"));document.querySelectorAll("#time li:not(.time__hour--disable)").forEach(e=>e.addEventListener("click",t))}(await s.json())}()}function t(e){const t=document.querySelector(".time__hour--selected");t&&t.classList.remove("time__hour--selected"),e.target.classList.add("time__hour--selected"),c.value=e.target.dataset.timeId,s.value=document.querySelector('[name="day"]:checked').value}}}();
//# sourceMappingURL=bundle.js.map
